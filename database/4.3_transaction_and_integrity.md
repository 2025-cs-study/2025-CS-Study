## 4.3 트랜잭션과 무결성

### 4.3.1 트랜잭션
- **트랜잭션**: 데이터베이스에서 하나의 논리적 기능을 수행하기 위한 작업의 단위임. 여러 개의 쿼리들을 하나로 묶음.

- **ACID 특성**:

    - **원자성(Atomicity)**: 트랜잭션과 관련된 모든 작업이 완전히 수행되거나 전혀 수행되지 않음을 보장함.

    - **일관성(Consistency)**: 데이터가 허용된 방식으로만 변경되어야 함.

    - **격리성(Isolation)**: 트랜잭션 수행 중 다른 트랜잭션의 간섭을 받지 않음.

        - 격리 수준: SERIALIZABLE, REPEATABLE READ, READ COMMITTED, READ UNCOMMITTED

        - 격리 수준에 따라 발생할 수 있는 문제: 팬텀 리드, 반복 불가능한 조회, 더티 리드

    - **지속성(Durability)**: 성공적으로 완료된 트랜잭션은 영구적으로 반영되어야 함.

        - 데이터베이스는 체크섬, 저널링, 롤백 기능을 제공함.

- **트랜잭션의 데이터 무결성 보장 방법**:

    - **커밋(Commit)**: 여러 쿼리가 성공적으로 처리되었다고 확정하는 명령어임.

    - **롤백(Rollback)**: 에러나 이슈로 인해 트랜잭션을 이전 상태로 되돌릴 때 사용하는 명령어임.

- **트랜잭션 전파**: 트랜잭션을 수행할 때 커넥션 객체를 넘겨서 수행하지 않고, 여러 트랜잭션 관련 메서드의 호출을 하나의 트랜잭션에 묶임.

### 4.3.2 무결성
- **무결성**: 데이터의 정확성, 일관성, 유효성을 유지하는 것임.

    - **개체 무결성**: 기본키로 선택된 필드는 빈 값을 허용하지 않음.

    - **참조 무결성**: 서로 참조 관계에 있는 두 테이블의 데이터는 항상 일관된 값을 유지해야 함.

    - **고유 무결성**: 특정 속성에 대해 고유한 값을 가지도록 조건이 주어짐.

    - **NULL 무결성**: 특정 속성 값에 NULL이 올 수 없다는 조건이 주어짐.


## ⁉️예상 질문

1. `트랜잭션`이 무엇인지 설명해주세요.
2. `트랜잭션의 특징`은 무엇인지 설명해주세요.
3. `트랜잭션의 상태`에 대해서 설명해주세요.
4. `트랜잭션의 격리수준`에 대해 설명해주세요.
5. 트랜잭션의 연산 중, `Commit`과 `Rollback`에 대해 설명해주세요.
6. `무결성`이 무엇인지, `무결성 제약 조건`은 무엇인지 설명해주세요.

&nbsp;

※ 자세한 내용은 [블로그](https://mandusitstudy.tistory.com/315)를 참고해주세요.